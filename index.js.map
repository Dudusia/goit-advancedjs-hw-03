{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImagesByQuery = searchedQuery => {\n  const apiKey = '50853777-8fecba6f69a77bb52efd7171d';\n  const apiUrl = 'https://pixabay.com/api';\n  const searchParams = new URLSearchParams({\n    key: apiKey,\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${apiUrl}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","export const createGalleryCardTemplate = ({\n  tags: alt,\n  largeImageURL: src,\n  likes: likes,\n  views: views,\n  comments: comments,\n  downloads: downloads,\n}) => {\n  return `\n    <li class=\"gallery-item\">\n        <a href=\"${src}\" class=\"gallery-link\">\n            <img src=\"${src}\" alt=\"${alt}\" width=\"360\" height=\"200\" class=\"gallery-image\">\n        </a>\n        <div class=\"gallery-item-stats\">\n            <p class=\"gallery-item-description\"><span class=\"gallery-item-property\">Views</span><br>${views}</p>\n            <p class=\"gallery-item-description\"><span class=\"gallery-item-property\">Likes</span><br>${likes}</p>\n            <p class=\"gallery-item-description\"><span class=\"gallery-item-property\">Comments</span><br>${comments}</p>\n            <p class=\"gallery-item-description\"><span class=\"gallery-item-property\">Downloads</span><br>${downloads}</p>\n        </div>\n    </li>\n  `;\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImagesByQuery } from './js/pixabay-api';\nimport { createGalleryCardTemplate } from './js/render-functions';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.js-loader'),\n  searchForm: document.querySelector('.search-form'),\n  searchBtn: document.querySelector('.search-button'),\n  searchInput: document.querySelector('.search-input'),\n};\n\n/* Lightbox */\nvar lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nrefs.searchForm.addEventListener('submit', evt => {\n  evt.preventDefault();\n});\n\nrefs.searchBtn.addEventListener('click', () => {\n  if (!refs.searchInput.value.trim()) {\n    return;\n  } else {\n    refs.loader.classList.add('active');\n    fetchImagesByQuery(refs.searchInput.value)\n      .then(data => {\n        if (data.total === 0) {\n          iziToast.warning({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n          refs.gallery.innerHTML = '';\n          return;\n        }\n        console.log(data.hits);\n        const galleryCardsTemplate = data.hits\n          .map(pictureInfo => createGalleryCardTemplate(pictureInfo))\n          .join('');\n\n        refs.gallery.innerHTML = galleryCardsTemplate;\n        lightbox.refresh();\n      })\n      .catch(err => {\n        console.log(err);\n      })\n      .finally(() => {\n        refs.loader.classList.remove('active');\n      });\n  }\n});\n"],"names":["fetchImagesByQuery","searchedQuery","apiKey","apiUrl","searchParams","response","createGalleryCardTemplate","alt","src","likes","views","comments","downloads","refs","lightbox","SimpleLightbox","evt","data","iziToast","galleryCardsTemplate","pictureInfo","err"],"mappings":"6vBAAO,MAAMA,EAAqBC,GAAiB,CACjD,MAAMC,EAAS,qCACTC,EAAS,0BACTC,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGE,CAAM,IAAIC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,KAAM,CAC1B,CAAG,CACH,EClBaC,EAA4B,CAAC,CACxC,KAAMC,EACN,cAAeC,EACf,MAAOC,EACP,MAAOC,EACP,SAAUC,EACV,UAAWC,CACb,IACS;AAAA;AAAA,mBAEUJ,CAAG;AAAA,wBACEA,CAAG,UAAUD,CAAG;AAAA;AAAA;AAAA,sGAG8DG,CAAK;AAAA,sGACLD,CAAK;AAAA,yGACFE,CAAQ;AAAA,0GACPC,CAAS;AAAA;AAAA;AAAA,ICV7GC,EAAO,CACX,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,YAAY,EAC3C,WAAY,SAAS,cAAc,cAAc,EACjD,UAAW,SAAS,cAAc,gBAAgB,EAClD,YAAa,SAAS,cAAc,eAAe,CACrD,EAGA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAK,WAAW,iBAAiB,SAAUG,GAAO,CAChDA,EAAI,eAAgB,CACtB,CAAC,EAEDH,EAAK,UAAU,iBAAiB,QAAS,IAAM,CAC7C,GAAKA,EAAK,YAAY,MAAM,KAAI,EAG9BA,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCb,EAAmBa,EAAK,YAAY,KAAK,EACtC,KAAKI,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBC,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,UACtB,CAAW,EACDL,EAAK,QAAQ,UAAY,GACzB,MACV,CACQ,QAAQ,IAAII,EAAK,IAAI,EACrB,MAAME,EAAuBF,EAAK,KAC/B,IAAIG,GAAed,EAA0Bc,CAAW,CAAC,EACzD,KAAK,EAAE,EAEVP,EAAK,QAAQ,UAAYM,EACzBL,EAAS,QAAS,CACnB,CAAA,EACA,MAAMO,GAAO,CACZ,QAAQ,IAAIA,CAAG,CAChB,CAAA,EACA,QAAQ,IAAM,CACbR,EAAK,OAAO,UAAU,OAAO,QAAQ,CAC7C,CAAO,MA3BH,OA6BJ,CAAC"}